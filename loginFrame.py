#coding=utf-8import wx# 导入wxPython中的通用Buttonimport wx.lib.buttons as wxButtonfrom db_tool import DataBaseimport reclass LoginFrame(wx.Frame):    def __init__(self, parent=None, id=-1, UpdateUI=None, UpdateInfo=None, db_path=None):        wx.Frame.__init__(self, parent, id, title=u'登录界面', size=(300, 220), pos=(500, 200))        self.themeColor = '#0a74f7'        self.UpdateUI = UpdateUI        self.UpdateInfo = UpdateInfo;        self.db_path = db_path        self.db = DataBase(self.db_path);        self.ptn_user_name = re.compile(r'[a-zA-Z0-9]{3,}');        self.ptn_psw = re.compile(r'[a-zA-Z0-9]{6,}');        self.InitUI() # 绘制UI界面            def InitUI(self):        panel = wx.Panel(self)                font = wx.Font(14, wx.FONTFAMILY_DEFAULT, wx.FONTSTYLE_NORMAL, wx.FONTWEIGHT_NORMAL, True)        accountLabel = wx.StaticText(panel, -1, u'账号', pos=(20, 25))        #accountLabel.SetForegroundColour(self.themeColor)        accountLabel.SetFont(font)        self.accountInput = wx.TextCtrl(panel, -1, u'', pos=(80, 25), size=(180, -1))        self.accountInput.SetForegroundColour('gray')        self.accountInput.SetFont(font)        passwordLabel = wx.StaticText(panel, -1, u'密码', pos=(20, 70))        passwordLabel.SetFont(font)        #passwordLabel.SetForegroundColour(self.themeColor)        self.passwordInput = wx.TextCtrl(panel, -1, u'', pos=(80, 70), size=(180, -1), style=wx.TE_PASSWORD)        #self.passwordInput.SetForegroundColour(self.themeColor)        self.passwordInput.SetFont(font)        sureButton = wx.Button(panel, -1, u'登录', pos=(20, 130), size=(120, 40))        sureButton.SetForegroundColour('white')        sureButton.SetBackgroundColour(self.themeColor)        # 为【确定Button】绑定事件        self.Bind(wx.EVT_BUTTON, self.sureEvent, sureButton)        cancleButton = wx.Button(panel, -1, u'取消', pos=(160, 130), size=(120, 40))        cancleButton.SetForegroundColour('white')        cancleButton.SetBackgroundColour(self.themeColor)                # 为【取消Button】绑定事件        self.Bind(wx.EVT_BUTTON, self.cancleEvent, cancleButton)    def cancleEvent(self, event):        self.Destroy()        def sureEvent(self, event):        account = self.accountInput.GetValue()        password = self.passwordInput.GetValue()        self.loginFunction(account, password)        def loginFunction(self, account, password):        #print u'接收到用户的输入：', account, password        if (not re.match(self.ptn_user_name, account)) or (not re.match(self.ptn_psw,password )) or (not self.db.check_user_psw(account, password)):            dlg = wx.MessageDialog(self, u'用户名或密码错误','A Message Box',wx.OK | wx.ICON_INFORMATION);            dlg.ShowModal()            dlg.Destroy()            return;        user = self.db.get_user(account);        self.UpdateInfo(user)        self.UpdateUI(1) #更新UI-Frame        